(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{39:function(t,e,a){},40:function(t,e,a){},41:function(t,e,a){},50:function(t,e,a){},69:function(t,e,a){},70:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),c=a(16),o=a.n(c),s=(a(39),a(9)),i=a(10),u=a(12),l=a(11),h=(a(40),a(41),a(3));var d=function(t){return Object(h.jsx)("div",{className:"search-container",children:Object(h.jsxs)("form",{onSubmit:function(e){return t.handleFormSubmit(e)},children:[Object(h.jsx)("button",{className:"search-btn",type:"submit",children:"Search"}),Object(h.jsx)("input",{className:"search-input",placeholder:"Type a city and hit enter...",onChange:function(e){return t.handleChange(e)}})]})})},p=a(8),j=a.n(p),m=a(32),b=a(18),O=(a(50),function(t){Object(u.a)(a,t);var e=Object(l.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).handleHourlyData=function(t){var e=t.data.hourly;n.setState({hourlyData:e})},n.extractTime=function(t){var e=new Date(1e3*t).getHours();return e>12?e=e-12+":00 PM":e+=":00 AM"},n.state={hourlyData:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this.props,e={lat:t.lat,long:t.long};this.props.getHourlyData(e)}},{key:"componentDidUpdate",value:function(t){this.props.hourlyData!==t.hourlyData&&this.props.hourlyData&&this.handleHourlyData(this.props.hourlyData)}},{key:"render",value:function(){var t=this,e=this.state.hourlyData;return e.length>0?Object(h.jsx)(r.a.Fragment,{children:Object(h.jsxs)("div",{className:"forecast-container",children:[Object(h.jsx)("h3",{className:"forecast-heading",children:"Hourly Forecast"}),Object(h.jsx)("div",{className:"forecast-items",children:e.map((function(e,a){var n="http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png");return Object(h.jsxs)("div",{className:"forecast-item",children:[Object(h.jsx)("p",{className:"forecast-hour",children:t.extractTime(e.dt)}),Object(h.jsx)("p",{className:"forecast-temp",children:"".concat(Math.round(e.temp),"\xb0C")}),Object(h.jsx)("img",{src:n,alt:e.weather[0].description}),Object(h.jsx)("p",{className:"forecast-title",children:e.weather[0].main})]},a)}))})]})}):""}}]),a}(r.a.Component)),f=Object(b.b)((function(t){return{hourlyData:t.HourlyDataReducer.HourlyDataResponse}}),(function(t){return{getHourlyData:function(e){return t({type:"GET_HOURLY_WEATHER_DATA",payload:e})}}}))(O),y=a(22),v=a.n(y);function x(t,e){return v.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t,"&lon=").concat(e,"&units=metric&appid=").concat("304835312fdd029d07c540a876ec147e"))}a(69);var g=function(t){Object(u.a)(a,t);var e=Object(l.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).dateBuilder=function(t){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()],a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],n=t.getDate(),r=t.getFullYear();return"".concat(e," ").concat(n," ").concat(a," ").concat(r)},n.state={latitude:"",longitude:"",showData:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=Object(m.a)(j.a.mark((function t(){var e,a,n,r,c,o,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i=this.props.location,v.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(i,"&units=metric&appid=").concat("304835312fdd029d07c540a876ec147e"));case 3:e=t.sent,a=e.data.coord.lon,n=e.data.coord.lat,r=Math.round(e.data.main.temp),c=e.data.name,o=e.data.weather[0].main,s=e.data.weather[0].icon,this.setState({latitude:n,longitude:a,temp:r,cityName:c,title:o,icon:s,showData:!0}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),t.t0.message.indexOf("404")?alert("City not found. Please enter a valid city!"):alert(t.t0.message);case 16:case"end":return t.stop()}var i}),t,this,[[0,13]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,e=t.latitude,a=t.longitude,n=t.cityName,c=t.temp,o=t.title,s=t.showData,i=t.icon,u="http://openweathermap.org/img/wn/".concat(i,"@2x.png");return s&&Object(h.jsxs)(r.a.Fragment,{children:[Object(h.jsx)("div",{className:"current-weather",children:Object(h.jsxs)("div",{className:"current-weather-block",children:[Object(h.jsx)("p",{className:"current-weather-city",children:n}),Object(h.jsxs)("div",{className:"current-weather-main",children:[Object(h.jsx)("img",{src:u,alt:o}),Object(h.jsxs)("div",{className:"current-weather-col",children:[Object(h.jsx)("p",{className:"current-weather-temp",children:"".concat(c,"\xb0C")}),Object(h.jsx)("p",{className:"current-weather-title",children:o})]})]}),Object(h.jsx)("p",{className:"current-weather-date",children:this.dateBuilder(new Date)})]})}),Object(h.jsx)(f,{lat:e,long:a})]})}}]),a}(r.a.Component),w=g,D=function(t){Object(u.a)(a,t);var e=Object(l.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).handleChange=function(t){n.setState({location:t.target.value,showCurrentWeather:!1})},n.handleFormSubmit=function(t){t.preventDefault(),n.setState({showCurrentWeather:!0})},n.state={location:"",showCurrentWeather:!0},n}return Object(i.a)(a,[{key:"componentWillUnmount",value:function(){this.setState({location:"",showCurrentWeather:!1})}},{key:"render",value:function(){var t=this.state,e=t.showCurrentWeather,a=t.location;return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{className:"App-header",children:"Weather Forecast"}),Object(h.jsx)(d,{handleChange:this.handleChange,handleFormSubmit:this.handleFormSubmit}),a&&e?Object(h.jsx)(w,{location:a}):""]})}}]),a}(r.a.Component),N=a(13),C=a(34),S=a(23),H="GET_WEATHER_DATA_SUCCESS",k={HourlyDataResponse:[]},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;return e.type===H?Object(S.a)(Object(S.a)({},t),{},{HourlyDataResponse:e.hourlyData}):t},T=a(19),E=j.a.mark(M),F=j.a.mark(W);function M(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.c)("GET_HOURLY_WEATHER_DATA",W);case 2:case"end":return t.stop()}}),E)}function W(t){var e,a,n,r;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e=t.payload,a=e.lat,n=e.long,c.next=3,Object(T.a)(x,a,n);case 3:return r=c.sent,c.next=6,Object(T.b)({type:H,hourlyData:r});case 6:case"end":return c.stop()}}),F)}var R=M,_=Object(C.a)(),J=Object(N.b)({HourlyDataReducer:A}),U=Object(N.d)(J,Object(N.a)(_));_.run(R),o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(b.a,{store:U,children:Object(h.jsx)(D,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.3299f9b8.chunk.js.map